<!DOCTYPE html>
<html>
  <head>
      <meta name="description" content="dynamic body issue">
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="js/vendor/aframe-physics-system.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-teleport-controls@0.2.x/dist/aframe-teleport-controls.min.js"></script>
    <script>
    AFRAME.registerComponent('custom-controls', {
      schema: {
        hand: {default: ''},
        model: {default: 'customControllerModel.gltf'}
      },
    
      update: function () {
        var hand = this.data.hand;
        var controlConfiguration = {
          hand: hand,
          model: false,
          orientationOffset: {x: 0, y: 0, z: hand === 'left' ? 90 : -90}
        };
    
        // Build on top of controller components.
        el.setAttribute('vive-controls', controlConfiguration);
        el.setAttribute('oculus-touch-controls', controlConfiguration);
        el.setAttribute('daydream-controls', controlConfiguration);
        el.setAttribute('gearvr-controls', controlConfiguration);
        el.setAttribute('windows-motion-controls', controlConfiguration);
    
        // Set a model.
        el.setAttribute('gltf-model', this.data.model);
      }
    });
    </script>

  </head>
  <body>
    <a-scene physics="debug: true" stats iterations: 20;>

      <!-- Player -->
      <a-entity id="rig" movement-controls kinematic-body rotation="0 0 0"  position="0 1 -2.25">
          <a-entity id="camera"
                    camera
                    look-controls="pointerLockEnabled: true"></a-entity>
        </a-entity>
 
      <!--vr hands (only visible when turned on)-->
      <a-entity sphere-collider="objects: a-box"  id="teleHand" super-hands hand-controls="left" teleport-controls></a-entity>
      <a-entity sphere-collider="objects: a-box" super-hands hand-controls="right"></a-entity>

      <!--example room made-->
      <a-plane static-body position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="brown"></a-plane>
      <a-plane static-body position="0 1.5 -4" rotation="90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-plane static-body position="0 0.75 -6" rotation="0 0 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body position="0 0.75 -2" rotation="-180 0 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body position="-2 0.75 -4" rotation="0 90 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body position="2 0.75 -4" rotation="0 -90 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      
      <a-box hoverable grabbable stretchable draggable dropppable color="blue" position="0 0.75 -4"></a-box>

      <!--Our items that we made in blender-->
      <!--squash Racket-->
      <a-asset-item id="10540_Tennis_racket_V2_L3-obj" src="TennisRacket/10540_Tennis_racket_V2_L3.obj"></a-asset-item>
      <a-asset-item id="10540_Tennis_racket_V2_L3-mtl" src="TennisRacket/10540_Tennis_racket_V2_L3.mtl"></a-asset-item>
      
      <a-obj-model hoverable grabbable stretchable draggable droppable dynamic-body="shape: box;" physics="gravity: 0" position="0 -0.5 -8" src="#10540_Tennis_racket_V2_L3-obj" mtl="#10540_Tennis_racket_V2_L3-mtl"></a-obj-model>

      <!--Timer-->
      <a-asset-item id="timer-obj" src="timer/timer.obj"></a-asset-item>
      <a-asset-item id="timer-mtl" src="timer/timer.mtl"></a-asset-item>

      <a-obj-model position="0 0 -8" src="#timer-obj" mtl="#timer-mtl"></a-obj-model>

      <!--squash pall-->
      <a-asset-item id="squashoigepall-obj" src="squashoigepall.obj"></a-asset-item>
      <a-asset-item id="squashoigepall-mtl" src="squashoigepall.mtl"></a-asset-item>
      
      <a-obj-model static-body="shape: Sphere; mass: 1" position="0 0 -8" src="#squashoigepall-obj" mtl="#squashoigepall-mtl"></a-obj-model>
      
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>