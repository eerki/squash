<!DOCTYPE html>
<html>
  <head>
      <meta name="description" content="dynamic body issue"> 
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v2.1.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.0.2/dist/super-hands.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
    
  </head>
  <body>
    <a-scene physics='gravity: -4.2'>
      
      <a-assets>
        <a-mixin id="controller"
                 physics-collider
                 static-body="shape: sphere; sphereRadius: 0.02"
                 super-hands="colliderEvent: collisions;
                              colliderEventProperty: els;
                              colliderEndEvent: collisions;
                              colliderEndEventProperty: clearedEls"
                 collision-filter = "group: hands;
                                     collidesWith: red, blue;
                                     collisionForces: false">
        </a-mixin>
        <a-mixin id="sphere" dynamic-body grabbable geometry="primitive: sphere">
        </a-mixin>
      </a-assets>


<!--  custom model gltf

      Example:

      <a-entity gltf-model="src: mug.glb"
                body="type: dynamic; mass: 5; shape: none;"
                shape__main="shape: cylinder;
                             height: 0.36;
                             radiusTop: 0.24;
                             radiusBottom: 0.24;"
                shape__handle="shape: box;
                               halfExtents: 0.15 0.18 0.04;
                               offset: 0.4 0 0;">
      </a-entity>
-->

      <!--vr hands (only visible when turned on)-->
      <a-entity id="cameraRig">
          <a-entity id="head" camera wasd-controls look-controls></a-entity>
        <a-entity teleport-controls="cameraRig: #cameraRig; button: trackpad;"
          vive-controls="hand: left"
          oculus-touch-controls="hand: left"
          microsoft-motion-controls="hand: left"
          daydream-controls="left" 
          gearvr-controls="left"
          hand-controls="left" 
          mixin="controller">
        </a-entity>
    <a-entity hand-controls="right" mixin="controller"></a-entity>
      </a-entity>
    </a-entity>
      <!--example room made-->
      <a-cylinder static-body collision-filter="collidesWith: red, blue" radius="30" height="0.1" position="0 0 -4" color="brown"></a-cylinder>
      <a-plane static-body collision-filter="collidesWith: red, blue" position="0 1.5 -4" rotation="90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-plane static-body collision-filter="collidesWith: red, blue" position="0 0.75 -6" rotation="0 0 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body collision-filter="collidesWith: red, blue" position="0 0.75 -2" rotation="-180 0 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body collision-filter="collidesWith: red, blue" position="-2 0.75 -4" rotation="0 90 0" width="4" height="1.5" color="#7BC8A4"></a-plane>
      <a-plane static-body collision-filter="collidesWith: red, blue" position="2 0.75 -4" rotation="0 -90 0" width="4" height="1.5" color="#7BC8A4"></a-plane>

      <!--Our items that we made in blender-->
      <!--squash Racket-->
      <a-asset-item id="10540_Tennis_racket_V2_L3-obj" src="TennisRacket/10540_Tennis_racket_V2_L3.obj"></a-asset-item>
      <a-asset-item id="10540_Tennis_racket_V2_L3-mtl" src="TennisRacket/10540_Tennis_racket_V2_L3.mtl"></a-asset-item>
      
      <a-obj-model hoverable grabbable stretchable draggable droppable dynamic-body="shape: box;" position="0 -0.5 -8" src="#10540_Tennis_racket_V2_L3-obj" mtl="#10540_Tennis_racket_V2_L3-mtl"></a-obj-model>

      <!--Timer not working
      <a-asset-item id="timer-obj" src="timer/timer.obj"></a-asset-item>
      <a-asset-item id="timer-mtl" src="timer/timer.mtl"></a-asset-item>

      <a-obj-model position="0 0 -8" src="#timer-obj" mtl="#timer-mtl"></a-obj-model>
      -->

      <!--squash pall
      <a-asset-item id="squashoigepall-obj" src="squashoigepall.obj"></a-asset-item>
      <a-asset-item id="squashoigepall-mtl" src="squashoigepall.mtl"></a-asset-item>
      
      <a-obj-model mixin="sphere" material="color: red" scale="0.1 0.1 0.1" collision-filter="group: red; collidesWith: default, hands, blue" position="0 0 -5" src="#squashoigepall-obj" mtl="#squashoigepall-mtl"></a-obj-model>
      -->
      <a-entity mixin="sphere" position="0 1 -3" scale="0.1 0.1 0.1" material="color: black" collision-filter="group: red; collidesWith: default, hands, blue">
      </a-entity>
      

      <a-sky color="#ECECEC"></a-sky> 
    </a-scene>
  </body>
</html>